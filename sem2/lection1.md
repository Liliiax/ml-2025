## Введение в анализ рядов

Временной ряд - набор признаков, сопоставленных с моментами времени 

> Примеры: статистика по погоде, курсы валют, популяций, сигналы

$$y_t= \{{ y_1, ..., y_T } \}, t \in \mathbb{N}$$


Линейной регрессией решить не получится: чтобы точно описывать все "переломы" на линии, понадобится полином высокой степени. Неудобная, сложная и склонная к переобучению.
Пусть модель нелинейна по весам


Идея: рассмотрим не все тестовые данные, а лишь фрагменты.
Нахоимся в точке с индексом $t$: $$y_t=g(y_{t-1},..., y_{t-p})$$ -- функция признаков, замеренных на $p$ шагов назад от точки, для которой хотим сделать прогноз
$$y_{t-1},..., y_{t-p}$$ - признаки

Какие еще признаки можно предложить? 
среднее, медиана, минимум/максимум, сглаженные значения, параметры распределения, иные вычислимые статистики (чтобы было интерпретируемо и работало) за период $p$

### Рекурсивная стратегия
> Идея: обучается модель с одной и той же структурой, но с добавлением объектов, значения предсказаны на предыдущем шаге

$$ \hat{y}_t = g(y_{t-1},..., y_{t-p})$$
$$ \hat{y}_{t+1} = g(\hat{y}_{t},..., y_{t+1-p})$$
$$ \hat{y}_{t+r} = g(\hat{y}_{t+r-1},..., y_{t+r-p})$$


### Прямая стратегия
> Идея: для каждой точки в пределах горизонта строится отдельная модель

$$ \hat{y}_t = g_0(y_{t-1},..., y_{t-p})$$
$$ \hat{y}_{t+1} = g_1(y_{t-1},..., y_{t-p})$$
$$ \hat{y}_{t+r} = g_r(y_{t-1},..., y_{t-p})$$


### Гибридная стратегия 
> Идея: гибрид двух предыдущих. В признаковые пространства добавляются прозгозы с помощью рекурсивного подхода, а далее применяем прямой подход к модифицированному признаковому пространству

Обучаем модель на шаг вперед

## Кросс-валидация для рядов

### Вариант 1
### Вариант 2

## Разложение временных рядов на составляющие (декомпозиция) 

* Тренд $T_t$: "долгосрочная" тенденция изменения временного ряда $T_t$
* Сезонность $S_t$: циклическое изменение временного ряда с периадом
* Ошибка $R_t$: псевдослучайная величина, считается непрогнозируемой
